<UserControl x:Class="ReActionAI.Integration.Revit.UI.ToolsPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignWidth="350"
             d:DesignHeight="600">

    <!-- Локальные ресурсы панели, без внешних словарей -->
    <UserControl.Resources>
        <!-- Фон панели и рамка -->
        <SolidColorBrush x:Key="PanelBackgroundBrush" Color="#FFF5F5F5"/>
        <SolidColorBrush x:Key="PanelBorderBrush" Color="#FFCCCCCC"/>

        <!-- Футер (поле ввода + кнопки) -->
        <SolidColorBrush x:Key="FooterBackgroundBrush" Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="FooterBorderBrush" Color="#FFDDDDDD"/>

        <!-- Текст -->
        <SolidColorBrush x:Key="HeaderTextBrush" Color="#FF333333"/>
        <SolidColorBrush x:Key="BodyTextBrush" Color="#FF222222"/>

        <!-- Стиль кнопок футера -->
        <Style x:Key="FooterButtonStyle" TargetType="Button">
            <Setter Property="Margin" Value="4,0,0,0"/>
            <Setter Property="Padding" Value="10,4"/>
            <Setter Property="MinWidth" Value="70"/>
        </Style>
    </UserControl.Resources>

    <Border Background="{StaticResource PanelBackgroundBrush}"
            BorderBrush="{StaticResource PanelBorderBrush}"
            BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <!-- Шапка -->
                <RowDefinition Height="Auto"/>
                <!-- Основная область -->
                <RowDefinition Height="*"/>
                <!-- Футер -->
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ====== ШАПКА ПАНЕЛИ ====== -->
            <Border Grid.Row="0"
                    Padding="8"
                    BorderThickness="0,0,0,1"
                    BorderBrush="{StaticResource PanelBorderBrush}">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">

                    <!-- Лого -->
                    <Image Width="32"
                           Height="32"
                           Margin="0,0,10,0"
                           Source="/ReActionAI.Integration.Revit;component/Resources/icon32.png"/>

                    <!-- Текстовая часть -->
                    <StackPanel Orientation="Vertical"
                                VerticalAlignment="Center">

                        <!-- Заголовок: текст задаём в .cs с переносом по слогам -->
                        <TextBlock x:Name="HeaderTitle"
                                   TextWrapping="Wrap"
                                   FontSize="14"
                                   FontWeight="Bold"
                                   Foreground="{StaticResource HeaderTextBrush}"/>

                        <!-- Описание: тоже через Hyphenator -->
                        <TextBlock x:Name="HeaderDescription"
                                   TextWrapping="Wrap"
                                   Margin="0,4,0,0"
                                   FontSize="11"
                                   Foreground="{StaticResource BodyTextBrush}"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- ====== ОСНОВНОЙ КОНТЕНТ (ЧАТ / ОПИСАНИЕ) ====== -->
            <Border Grid.Row="1"
                    Margin="8,4,8,4"
                    BorderThickness="1"
                    BorderBrush="{StaticResource PanelBorderBrush}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBlock Margin="8"
                               TextWrapping="Wrap"
                               Foreground="{StaticResource BodyTextBrush}"
                               Text="Контент ассистента будет размещён здесь."/>
                </ScrollViewer>
            </Border>

            <!-- ====== ФУТЕР (поле ввода + кнопки) ====== -->
            <Border Grid.Row="2"
                    Background="{StaticResource FooterBackgroundBrush}"
                    BorderThickness="0,1,0,0"
                    BorderBrush="{StaticResource FooterBorderBrush}">
                <Grid Margin="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Поле ввода -->
                    <TextBox x:Name="InputBox"
                             Grid.Column="0"
                             Margin="0,0,4,0"
                             VerticalAlignment="Stretch"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             MinHeight="30"/>

                    <!-- Кнопки -->
                    <StackPanel Grid.Column="1"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Bottom">
                        <Button x:Name="SendButton"
                                Style="{StaticResource FooterButtonStyle}"
                                Content="Send"/>
                        <Button x:Name="ClearButton"
                                Style="{StaticResource FooterButtonStyle}"
                                Content="Clear"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Border>
</UserControl>
